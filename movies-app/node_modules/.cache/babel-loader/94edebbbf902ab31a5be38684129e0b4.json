{"ast":null,"code":"var _jsxFileName = \"E:\\\\GitHub\\\\moviesAPIAssignment2WAD2\\\\moviesAPIAssignment2WAD2\\\\movies-app\\\\src\\\\pages\\\\popularActorPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport PageTemplate from \"../components/actorComponents/templateActorListPage\";\nimport { getPopularActors } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport Spinner from '../components/spinner';\nimport AddToFavouritesIcon from '../components/cardIcons/addToFavouriteActors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar PopularActor = function PopularActor(props) {\n  _s();\n\n  var _useQuery = useQuery('popular', getPopularActors),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      isLoading = _useQuery.isLoading,\n      isError = _useQuery.isError;\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 12\n    }, _this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, _this);\n  }\n\n  var actor = data.results; // Redundant, but necessary to avoid app crashing.\n\n  var popular = actor.filter(function (m) {\n    return m.favourite;\n  });\n  localStorage.setItem('popular', JSON.stringify(popular));\n  return /*#__PURE__*/_jsxDEV(PageTemplate, {\n    name: \"Popular Actors\",\n    actors: actor,\n    action: function action(actor) {\n      return /*#__PURE__*/_jsxDEV(AddToFavouritesIcon, {\n        actor: actor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 16\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(PopularActor, \"gRWcc9Q6k3CVvKOllxZBlhahD78=\", false, function () {\n  return [useQuery];\n});\n\n_c = PopularActor;\nexport default PopularActor;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopularActor\");","map":{"version":3,"names":["React","PageTemplate","getPopularActors","useQuery","Spinner","AddToFavouritesIcon","PopularActor","props","data","error","isLoading","isError","message","actor","results","popular","filter","m","favourite","localStorage","setItem","JSON","stringify"],"sources":["E:/GitHub/moviesAPIAssignment2WAD2/moviesAPIAssignment2WAD2/movies-app/src/pages/popularActorPage.js"],"sourcesContent":["import React from \"react\";\r\nimport PageTemplate from \"../components/actorComponents/templateActorListPage\";\r\nimport { getPopularActors} from \"../api/tmdb-api\";\r\nimport { useQuery } from 'react-query';\r\nimport Spinner from '../components/spinner';\r\nimport AddToFavouritesIcon from '../components/cardIcons/addToFavouriteActors'\r\n\r\n\r\nconst PopularActor = (props) => {\r\n\r\n  const {  data, error, isLoading, isError }  = useQuery('popular', getPopularActors)\r\n\r\n  if (isLoading) {\r\n    return <Spinner />\r\n  }\r\n\r\n  if (isError) {\r\n    return <h1>{error.message}</h1>\r\n  }  \r\n  const actor = data.results;\r\n\r\n  // Redundant, but necessary to avoid app crashing.\r\n  const popular = actor.filter(m => m.favourite)\r\n  localStorage.setItem('popular', JSON.stringify(popular))\r\n\r\n  \r\n  return (\r\n    <PageTemplate\r\n      name=\"Popular Actors\"\r\n      actors={actor}\r\n      action={actor => {\r\n        return <AddToFavouritesIcon actor={actor} />\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default PopularActor;"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qDAAzB;AACA,SAASC,gBAAT,QAAgC,iBAAhC;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,mBAAP,MAAgC,8CAAhC;;;AAGA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;EAAA;;EAE9B,gBAA8CJ,QAAQ,CAAC,SAAD,EAAYD,gBAAZ,CAAtD;EAAA,IAASM,IAAT,aAASA,IAAT;EAAA,IAAeC,KAAf,aAAeA,KAAf;EAAA,IAAsBC,SAAtB,aAAsBA,SAAtB;EAAA,IAAiCC,OAAjC,aAAiCA,OAAjC;;EAEA,IAAID,SAAJ,EAAe;IACb,oBAAO,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,SAAP;EACD;;EAED,IAAIC,OAAJ,EAAa;IACX,oBAAO;MAAA,UAAKF,KAAK,CAACG;IAAX;MAAA;MAAA;MAAA;IAAA,SAAP;EACD;;EACD,IAAMC,KAAK,GAAGL,IAAI,CAACM,OAAnB,CAX8B,CAa9B;;EACA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,SAAN;EAAA,CAAd,CAAhB;EACAC,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAAhC;EAGA,oBACE,QAAC,YAAD;IACE,IAAI,EAAC,gBADP;IAEE,MAAM,EAAEF,KAFV;IAGE,MAAM,EAAE,gBAAAA,KAAK,EAAI;MACf,oBAAO,QAAC,mBAAD;QAAqB,KAAK,EAAEA;MAA5B;QAAA;QAAA;QAAA;MAAA,SAAP;IACD;EALH;IAAA;IAAA;IAAA;EAAA,SADF;AASD,CA3BD;;GAAMP,Y;UAE0CH,Q;;;KAF1CG,Y;AA4BN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}